# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è FFmpeg

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å YouTube –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞:
```
ERROR: Postprocessing: ffprobe and ffmpeg not found. Please install or provide the path using --ffmpeg-location
```

yt-dlp —Å–∫–∞—á–∏–≤–∞–ª –≤–∏–¥–µ–æ –≤ WebM —Ñ–æ—Ä–º–∞—Ç–µ, –Ω–æ –Ω–µ –º–æ–≥ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ MP3 –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è FFmpeg.

## –†–µ—à–µ–Ω–∏–µ

### ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω fallback –º–µ—Ö–∞–Ω–∏–∑–º
–¢–µ–ø–µ—Ä—å –º–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –¥–≤—É—Ö —Ä–µ–∂–∏–º–∞—Ö –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–ª–∏—á–∏—è FFmpeg:

#### üéµ –° FFmpeg (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –°–∫–∞—á–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ MP3
- –õ—É—á—à–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Java AudioSystem
- –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞

#### üéµ –ë–µ–∑ FFmpeg (fallback)
- –°–∫–∞—á–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (WebM/OGG)
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É upload
- –†–∞–±–æ—Ç–∞–µ—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ FFmpeg
–ú–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ FFmpeg –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é:

```java
boolean hasFFmpeg = isFFmpegAvailable();
```

## –ù–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

### –° FFmpeg:
```
/audiodisc youtube https://youtu.be/VIDEO_ID

¬ßa–ù–∞—á–∏–Ω–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ —Å YouTube...
¬ß7URL: https://youtu.be/VIDEO_ID
¬ß7–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ —Å YouTube...
¬ß7FFmpeg –Ω–∞–π–¥–µ–Ω, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ MP3...
¬ß7–ü—Ä–æ–≥—Ä–µ—Å—Å: 25%
¬ß7–ü—Ä–æ–≥—Ä–µ—Å—Å: 50%
¬ß7–ü—Ä–æ–≥—Ä–µ—Å—Å: 75%
¬ß7–ü—Ä–æ–≥—Ä–µ—Å—Å: 100%
¬ßa–í–∏–¥–µ–æ —Å–∫–∞—á–∞–Ω–æ –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤ MP3!
¬ß7–†–∞–∑–º–µ—Ä: 4.2 MB
¬ß7–û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –º–æ–¥–∞...
¬ßa‚úÖ YouTube –∞—É–¥–∏–æ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –Ω–∞ –¥–∏—Å–∫!
```

### –ë–µ–∑ FFmpeg:
```
/audiodisc youtube https://youtu.be/VIDEO_ID

¬ßa–ù–∞—á–∏–Ω–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ —Å YouTube...
¬ß7URL: https://youtu.be/VIDEO_ID
¬ß7–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ —Å YouTube...
¬ß7FFmpeg –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å–∫–∞—á–∏–≤–∞–µ–º –≤ –∏—Å—Ö–æ–¥–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ...
¬ß7–ü—Ä–æ–≥—Ä–µ—Å—Å: 25%
¬ß7–ü—Ä–æ–≥—Ä–µ—Å—Å: 50%
¬ß7–ü—Ä–æ–≥—Ä–µ—Å—Å: 75%
¬ß7–ü—Ä–æ–≥—Ä–µ—Å—Å: 100%
¬ße–í–Ω–∏–º–∞–Ω–∏–µ: FFmpeg –Ω–µ –Ω–∞–π–¥–µ–Ω –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ MP3
¬ß7–ü–æ–ø—Ä–æ–±—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –Ω–∞–ø—Ä—è–º—É—é...
¬ßa–í–∏–¥–µ–æ —Å–∫–∞—á–∞–Ω–æ! –ò—Å–ø–æ–ª—å–∑—É–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.
¬ß7–§–∞–π–ª: VIDEO_ID.webm
¬ß7–†–∞–∑–º–µ—Ä: 4.6 MB
¬ß7–û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –º–æ–¥–∞...
¬ßa‚úÖ YouTube –∞—É–¥–∏–æ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –Ω–∞ –¥–∏—Å–∫!
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ö–æ–º–∞–Ω–¥—ã yt-dlp:

#### –° FFmpeg:
```bash
yt-dlp --extract-audio --audio-format mp3 --audio-quality 0 --max-filesize 50M --no-playlist <URL>
```

#### –ë–µ–∑ FFmpeg:
```bash
yt-dlp --format "bestaudio[ext=ogg]/bestaudio[ext=webm]/bestaudio[ext=mp3]/bestaudio" --max-filesize 50M --no-playlist <URL>
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
- –†–∞–∑–ª–∏—á–∞–µ—Ç –æ—à–∏–±–∫–∏ FFmpeg –æ—Ç –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–±–ª–µ–º
- –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ FFmpeg
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –±–µ–∑ FFmpeg:
- **WebM** - —Ö–æ—Ä–æ—à–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ Java
- **OGG** - –Ω–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- **MP3** - –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞–ø—Ä—è–º—É—é

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ FFmpeg (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### Windows:
1. –°–∫–∞—á–∞—Ç—å —Å https://ffmpeg.org/download.html
2. –†–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å –≤ –ø–∞–ø–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `C:\ffmpeg`)
3. –î–æ–±–∞–≤–∏—Ç—å `C:\ffmpeg\bin` –≤ PATH
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: `ffmpeg -version`

### Linux:
```bash
# Ubuntu/Debian
sudo apt update
sudo apt install ffmpeg

# CentOS/RHEL
sudo yum install ffmpeg
# –∏–ª–∏
sudo dnf install ffmpeg

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
ffmpeg -version
```

### macOS:
```bash
# –° Homebrew
brew install ffmpeg

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
ffmpeg -version
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è

### ‚úÖ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- –†–∞–±–æ—Ç–∞–µ—Ç —Å FFmpeg –∏ –±–µ–∑ –Ω–µ–≥–æ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É upload
- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö

### ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç
- –ß–µ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ FFmpeg
- –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- `AudioDiscCommand.java` - –¥–æ–±–∞–≤–ª–µ–Ω fallback –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è FFmpeg
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–ª–∏—á–∏—è FFmpeg
- –†–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ FFmpeg
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è FFmpeg
2. –í—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏
3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ FFmpeg –∫–∞–∫ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
4. –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å –¥–æ—Å—Ç—É–ø–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º

## –°—Ç–∞—Ç—É—Å: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

YouTube –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Å FFmpeg (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ), —Ç–∞–∫ –∏ –±–µ–∑ –Ω–µ–≥–æ (fallback), –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å.